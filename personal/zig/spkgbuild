# description   : Zig Language Compiler / C Compiler / C++ Compiler
# homepage      : https://ziglang.org
# depends       : cmake llvm clang lld 

name=zig
version=0.10.0
release=dev.3659+e5e6eb983
source="https://ziglang.org/builds/zig-$version-$release.tar.xz zigcc zigcxx"

build() {
	install_bin() { install -Dm0755 $1 $PKG/usr/bin/$2/${1##*/}; }
	cd $name-$version-$release
	mkdir build
	cd build
	cmake -G Ninja  -DCMAKE_BUILD_TYPE=Release .. -DCMAKE_INSTALL_PREFIX=/usr
	ninja
	cd ..
	./build/zig build \
	  -p $PKG/usr \
  	--zig-lib-dir lib 
	install_bin $SRC/zigcc 
	install_bin $SRC/zigcxx
}
