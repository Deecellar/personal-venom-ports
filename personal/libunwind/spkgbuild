# description	: Collection of modular and reusable compiler and toolchain technologies
# depends	: llvm clang

name=libunwind
version=15.0.1
release=1
source="https://github.com/llvm/llvm-project/releases/download/llvmorg-$version/libunwind-$version.src.tar.xz https://github.com/llvm/llvm-project/releases/download/llvmorg-$version/libcxx-$version.src.tar.xz https://github.com/llvm/llvm-project/releases/download/llvmorg-$version/llvm-$version.src.tar.xz"

build() {
	mv libcxx-$version.src libcxx
	mv llvm-$version.src llvm
	cd $name-$version.src

	export CC=gcc
	export CXX=g++

	mkdir -v build
	cd       build
	
	cmake .. -G Ninja \
	    -DCMAKE_INSTALL_PREFIX=/usr \
-DCMAKE_BUILD_TYPE=Release \
-DLLVM_ENABLE_RTTI=ON \
	    -DLLVM_ENABLE_EH=ON \
	    -Wno-dev
	ninja
	DESTDIR=$PKG ninja install	        
}
